<?xml version="1.0"?>
<launch>
	<include file="$(find rrt)/launch/parameters.launch" />
	<!-- Start the obstacle detection node -->
	<node
		pkg="pcl_converter"
		type="pcl_converter_node"
		name="pcl_converter_node"
		respawn="false"
		required="true"
        output="screen"
	/>
	<!-- Start the RRT planner node -->
	<node
		pkg="rrt"
		type="rrt_node"
		name="rrt_node"
		respawn="false"
		output="screen"
		required="true"
        launch-prefix="valgrind --tool=callgrind --callgrind-out-file='callgrind.rrt.%p' "
	/>
	<!-- Start the mission planner -->
	<node
		pkg="mission_planner"
		type="mission_planner_node"
		name="mission_planner_node"
		output="screen"
		required="true"
		launch-prefix="xterm -e"
	/>
	<!-- Start the simulation -->
	<include file="$(find car_simulation)/launch/simulation.launch">
		<arg name="gazebo_gui" value="false" />
		<arg name="world_name" value="myworld.world" />
		<arg name="rviz" value="true" />
	</include>
</launch>
